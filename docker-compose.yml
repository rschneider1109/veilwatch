version: '3.8'
services:
  veilwatch_app:
    image: node:20-alpine
    container_name: veilwatch_app
    working_dir: /app
    restart: unless-stopped
    ports:
    - 8099:8080
    volumes:
    - veilwatch_app_data:/app/data
    - veilwatch_node_modules:/app/node_modules
    - veilwatch_npm_cache:/root/.npm
    environment:
    - PORT=8080
    - DATABASE_URL=postgres://veilwatch:veilwatch_pw@veilwatch_db:5432/veilwatch
    - VEILWATCH_DM_KEY=VEILWATCHDM
    - APP_GZ_B64=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
    command:
    - sh
    - -lc
    - cd /app && if [ ! -d node_modules/pg ]; then npm init -y >/dev/null 2>&1; npm
      install pg@8.12.0 >/dev/null 2>&1; fi; node -e 'const fs=require("fs");const
      z=require("zlib");const b=process.env.APP_GZ_B64||"";const js=z.gunzipSync(Buffer.from(b,"base64")).toString("utf8");fs.writeFileSync("/app/app.js",js,"utf8");require("/app/app.js");'
    depends_on:
    - veilwatch_db
  veilwatch_db:
    image: postgres:16-alpine
    container_name: veilwatch_db
    restart: unless-stopped
    environment:
      POSTGRES_DB: veilwatch
      POSTGRES_USER: veilwatch
      POSTGRES_PASSWORD: veilwatch_pw
    volumes:
    - veilwatch_db_data:/var/lib/postgresql/data
    healthcheck:
      test:
      - CMD-SHELL
      - pg_isready -U veilwatch -d veilwatch
      interval: 5s
      timeout: 3s
      retries: 60
      start_period: 45s
    ports:
    - 5432:5432
  veilwatch_adminer:
    image: adminer:4
    container_name: veilwatch_adminer
    restart: unless-stopped
    environment:
      ADMINER_DEFAULT_SERVER: veilwatch_db
    depends_on:
    - veilwatch_db
    ports:
    - 8282:8080
volumes:
  veilwatch_app_data: {}
  veilwatch_db_data: {}
  veilwatch_node_modules: {}
  veilwatch_npm_cache: {}
